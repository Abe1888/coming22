var e=Object.defineProperty,t=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,o=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&r(e,o,t[o]);if(n)for(var o of n(t))i.call(t,o)&&r(e,o,t[o]);return e},a=(e,t,n)=>r(e,"symbol"!=typeof t?t+"":t,n),c=(e,t,n)=>new Promise((s,i)=>{var r=e=>{try{a(n.next(e))}catch(t){i(t)}},o=e=>{try{a(n.throw(e))}catch(t){i(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,o);a((n=n.apply(e,t)).next())});import{r as l,j as d,V as u,a as h,R as f,C as p,B as m,L as x,Z as g,b,c as v,d as y}from"./react-vendor-CBJRkAhd.js";import{T as w,G as S,D as j,a as T,b as N,M as R,S as A,E,c as k,L as M,d as P,e as G,C,P as L,f as z,g as B,h as F,i as I,V as O,j as V,B as D,k as W,l as $,m as H,n as q,o as U,p as Y,F as K,q as J,r as Q,W as _,s as X,A as Z,t as ee,R as te,u as ne,Q as se}from"./three-CfJtgJvr.js";import"./vendor-ChIAAe2R.js";var ie,re,oe=(ie={"assets/index-Bv4vvcUm.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let t=class extends Error{constructor(e,t={}){super(e),a(this,"context"),this.name="AssetLoadError",this.context=t}};const n=(s={basePath:"/",useDraco:!0,dracoDecoderPath:"/draco/",enableProgressTracking:!0},new class{constructor(e){a(this,"config"),a(this,"gltfLoader"),a(this,"dracoLoader",null),a(this,"textureLoader"),a(this,"loadedAssets",new Map),this.config=e,this.textureLoader=new w,this.gltfLoader=new S,e.useDraco&&(this.dracoLoader=new j,this.dracoLoader.setDecoderPath(e.dracoDecoderPath),this.dracoLoader.setWorkerLimit(4),this.gltfLoader.setDRACOLoader(this.dracoLoader))}loadGLB(e,t){const n=this.getAssetPath(e);return this.loadedAssets.has(n)?Promise.resolve(this.loadedAssets.get(n).clone()):new Promise((s,i)=>{this.gltfLoader.load(n,e=>{this.loadedAssets.set(n,e.scene),s(e.scene)},n=>{if(this.config.enableProgressTracking&&n.lengthComputable&&t){const s={loaded:n.loaded,total:n.total,percentage:n.loaded/n.total*100,asset:e};t(s)}},e=>{i(e)})})}loadTexture(e){const t=this.getAssetPath(e);return this.loadedAssets.has(t)?Promise.resolve(this.loadedAssets.get(t)):new Promise((e,n)=>{this.textureLoader.load(t,n=>{this.loadedAssets.set(t,n),e(n)},void 0,e=>{n(e)})})}preloadAssets(e){return c(this,null,function*(){const t=e.map(e=>e.endsWith(".glb")||e.endsWith(".gltf")?this.loadGLB(e):this.loadTexture(e));try{yield Promise.all(t)}catch(n){throw n}})}getAssetPath(e){const t=e.startsWith("/")?e:`/${e}`;return`${this.config.basePath}${t}`.replace("//","/")}clearCache(){this.loadedAssets.forEach((e,t)=>{e instanceof T?e.dispose():e instanceof N&&e.traverse(e=>{var t,n;e instanceof R&&(null==(t=e.geometry)||t.dispose(),Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):null==(n=e.material)||n.dispose())})}),this.loadedAssets.clear()}getCacheStats(){return{count:this.loadedAssets.size,assets:Array.from(this.loadedAssets.keys())}}dispose(){this.clearCache(),this.dracoLoader&&(this.dracoLoader.dispose(),this.dracoLoader=null)}}(o(o({},{basePath:"/",useDraco:!0,dracoDecoderPath:"/draco/",enableProgressTracking:!0}),s)));var s;n.preloadAssets(["/model/compressed/Main_truck_updated_compressed.glb","/optimized/logo.webp","/optimized/logo-front-truck.webp","/optimized/Logo-white.webp"]).catch(e=>{});const i=({scene:e,truckGroup:t,position:s=[3.1,.6,-5],rotation:i=[0,0,0],scale:r=1,probeLength:o=1.3,onComponentsCreated:a})=>{const c=l.useRef(null),d=l.useRef(null),u=l.useRef(null),h=l.useRef(null),f=l.useRef(!1);return l.useEffect(()=>{if(!e||!t)return;if(f.current)return;f.current=!0;const i=new N;i.position.set(...s),t.add(i),c.current=i;const r=new N;r.position.set(0,.7,0),i.add(r),d.current=r;const o=new A,l=.15,p=.15;o.moveTo(-.12,-p),o.lineTo(.12,-p),o.lineTo(l,-.12),o.lineTo(l,.12),o.lineTo(.12,p),o.lineTo(-.12,p),o.lineTo(-l,.12),o.lineTo(-l,-.12),o.closePath();const m=new E(o,{depth:.1,bevelEnabled:!0,bevelThickness:.008,bevelSize:.008,bevelSegments:2}),x=new R(m,new k({color:2763306,roughness:.3,metalness:.8}));x.rotation.x=Math.PI/2,x.castShadow=!0,x.receiveShadow=!0,r.add(x);const g=new M(new P(m,20),new G({color:11579568,transparent:!0,opacity:.6}));g.rotation.x=Math.PI/2,r.add(g);const b=new C(.05,.06,.04,16),v=new R(b,new k({color:15263976,roughness:.7,metalness:.3}));v.position.y=-.02,v.castShadow=!0,v.receiveShadow=!0,r.add(v);const y=new R(new L(.24,.06),new z({transparent:!0,opacity:.9,depthWrite:!1,side:B}));y.rotation.x=-Math.PI/2,y.rotation.z=Math.PI/2,y.position.y=.013,r.add(y),n.loadTexture("/optimized/Logo-white.webp").then(e=>{e.colorSpace=F,e.needsUpdate=!0,y.material.map=e,y.material.needsUpdate=!0}).catch(e=>{});const w=new N;i.add(w);const S=new C(.045,.045,1.3,20),j=new R(S,new k({color:16777215,roughness:.3,metalness:.7}));j.position.set(0,.05,0),j.castShadow=!0,j.receiveShadow=!0,w.add(j),u.current=j;const T=new N;T.position.set(0,-.5,0),w.add(T),h.current=T;const O=new R(new C(.055,.055,.25,12),new k({color:2278750,transparent:!0,opacity:.8,roughness:.6,metalness:.2}));O.castShadow=!0,O.receiveShadow=!0,T.add(O);for(let e=0;e<4;e++){const t=new R(new I(.055,.006,8,16),new k({color:1483594,roughness:.4,metalness:.3}));t.position.y=.06*e-.08,t.rotation.x=Math.PI/2,t.castShadow=!0,t.receiveShadow=!0,T.add(t)}return a&&a({sensorHeadGroup:r,probeTube:j,cageGroup:T,tankGroup:i}),()=>{c.current&&(t.remove(c.current),c.current.traverse(e=>{var t,n;e instanceof R&&(null==(t=e.geometry)||t.dispose(),Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):null==(n=e.material)||n.dispose())})),f.current=!1}},[e,t]),null},r=({scene:s,truckGroup:i,modelPath:r="/model/compressed/Main_truck_updated_compressed.glb",position:o=[1.1,-1.1,-5.3],rotation:a=[0,Math.PI,0],scale:d=1.5,lightGrayMaterial:u,edgeMaterial:h,onLoad:f,onProgress:p,onError:m,onLogoCreated:x})=>{const g=l.useRef(null),b=l.useRef([]),v=l.useRef(!1),y=l.useRef(null);return l.useEffect(()=>{if(!s||!i)return;if(v.current)return;v.current=!0;let l=!0;return c(e,null,function*(){try{const e=yield function(e,n,s=3){return c(this,null,function*(){let i;for(let t=0;t<s;t++)try{return yield e()}catch(r){if(i=r,t<s-1){const e=1e3*Math.pow(2,t);yield new Promise(t=>setTimeout(t,e))}}throw new t(`Failed to load ${n} after ${s} attempts: ${i.message}`,{assetName:n,attempts:s,originalError:i})})}(()=>n.loadGLB(r,e=>{p&&p(e.percentage)}),r,3);if(!l)return;e.rotation.set(...a),e.position.set(...o),e.scale.set(d,d,d);const s=[];let m=0;if(e.traverse(e=>{if(e instanceof R){if(m++,e.name.toLowerCase().includes("wheel")){e.geometry.computeBoundingBox();const t=e.geometry.boundingBox;if(t){const n=new O;t.getCenter(n),e.geometry.translate(-n.x,-n.y,-n.z),e.position.add(n),s.push(e)}}e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose()),function(e,t,s,i){const r=e.name.toLowerCase(),o=r.includes("wheel")||r.includes("tire")||r.includes("rim"),a=r.includes("logo"),c=r.includes("glass")||r.includes("window")||r.includes("windshield")||r.includes("windscreen"),l=r.includes("tank")||r.includes("fuel")||r.includes("cylinder");o?(e.material=new k({color:2763306,roughness:.9,metalness:.1}),e.castShadow=!0,e.receiveShadow=!0):a?function(e,t){e.material=new z({transparent:!0,opacity:0,side:B}),n.loadTexture("/optimized/logo-front-truck.webp").then(n=>{n.colorSpace=F,e.geometry.computeBoundingBox();const s=e.geometry.boundingBox;if(s){const i=s.max.x-s.min.x,r=s.max.y-s.min.y,o=new L(i,r),a=new z({map:n,transparent:!0,alphaTest:.1,side:B,toneMapped:!1}),c=new R(o,a);c.name="LogoPlane",c.position.copy(e.position),c.rotation.copy(e.rotation),c.quaternion.copy(e.quaternion);const l=new O(0,0,-.5);l.applyQuaternion(c.quaternion),c.position.add(l),e.parent&&e.parent.add(c),t&&t(c)}}).catch(e=>{}),e.castShadow=!1,e.receiveShadow=!1}(e,i):c?function(e){e.material=new k({color:13426175,transparent:!0,opacity:.25,side:B,depthWrite:!1,roughness:.1,metalness:.1,envMapIntensity:1}),e.castShadow=!1,e.receiveShadow=!0}(e):l?function(e){const t=new k({color:8421504,transparent:!0,opacity:.2,side:B,depthWrite:!1,roughness:.1,metalness:.2});e.material=t,e.castShadow=!1,e.receiveShadow=!0,e.traverse(n=>{if(n instanceof R&&n!==e){n.material&&(Array.isArray(n.material)?n.material.forEach(e=>e.dispose()):n.material.dispose());const e=n.name.toLowerCase().includes("sensor")||n.name.toLowerCase().includes("probe")||n.name.toLowerCase().includes("head");n.material=e?new k({color:12460078,transparent:!1,roughness:.3,metalness:.7}):t.clone(),n.castShadow=!1,n.receiveShadow=!1}})}(e):(e.material=t,e.castShadow=!0,e.receiveShadow=!0);const d=new P(e.geometry,15),u=new M(d,s);e.add(u)}(e,u,h,e=>{y.current=e,x&&x(e)})}}),!l)return;b.current=s,g.current=e,i.add(e),f&&f(e,s)}catch(e){l&&m&&m(e)}}),()=>{l=!1,v.current=!1,g.current&&(i.remove(g.current),g.current.traverse(e=>{var t,n;e instanceof R&&(null==(t=e.geometry)||t.dispose(),Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):null==(n=e.material)||n.dispose())}))}},[s,i,r]),null};function ie(e){const{speed:t=85,fuelLevel:n=.65,batteryLevel:s=.75,temperature:i=18,time:r="12:45",ecoMode:o=!0,range:a=443}=e,c=document.createElement("canvas");c.width=2048,c.height=1024;const l=c.getContext("2d");if(!l)return new V(c);const d=l.createRadialGradient(1024,512,0,1024,512,1200);d.addColorStop(0,"#1d2635"),d.addColorStop(1,"#0f1419"),l.fillStyle=d,l.fillRect(0,0,2048,1024);const u=1024,h=550;l.strokeStyle="rgba(190, 32, 46, 0.15)",l.lineWidth=1;for(let m=100;m<1024;m+=80)l.beginPath(),l.moveTo(0,m),l.lineTo(2048,m),l.stroke();for(let m=100;m<2048;m+=80)l.beginPath(),l.moveTo(m,0),l.lineTo(m,1024),l.stroke();l.strokeStyle="rgba(190, 32, 46, 0.3)",l.lineWidth=2,l.beginPath(),l.arc(u,h,460,0,2*Math.PI),l.stroke(),l.strokeStyle="rgba(190, 32, 46, 0.15)",l.lineWidth=1,l.beginPath(),l.arc(u,h,480,0,2*Math.PI),l.stroke();const f=1.6*Math.PI/20,p=.7*Math.PI;for(let m=0;m<20;m++){const e=p+m*f;t/160>(m+1)/20-.05?(l.shadowColor="#be202e",l.shadowBlur=20,l.fillStyle="#be202e"):(l.shadowBlur=0,l.fillStyle="rgba(108, 108, 108, 0.3)"),l.beginPath(),l.arc(u,h,400,e,e+.9*f),l.arc(u,h,340,e+.9*f,e,!0),l.closePath(),l.fill()}l.shadowBlur=0,l.strokeStyle="#6c6c6c",l.lineWidth=2;for(let m=0;m<=8;m++){const e=p+m/8*(1.6*Math.PI),t=u+330*Math.cos(e),n=h+330*Math.sin(e),s=u+310*Math.cos(e),i=h+310*Math.sin(e);l.beginPath(),l.moveTo(t,n),l.lineTo(s,i),l.stroke(),l.font="24px Arial",l.fillStyle="#6c6c6c",l.textAlign="center";const r=u+280*Math.cos(e),o=h+280*Math.sin(e);l.fillText((20*m).toString(),r,o+8)}return l.shadowColor="#be202e",l.shadowBlur=40,l.font="bold 320px Arial",l.fillStyle="#ffffff",l.textAlign="center",l.fillText(Math.round(t).toString(),u,650),l.shadowBlur=0,l.font="bold 56px Arial",l.fillStyle="#be202e",l.fillText("KM/H",u,730),l.strokeStyle="rgba(190, 32, 46, 0.5)",l.lineWidth=3,re(l,u,h,280),l.strokeStyle="rgba(108, 108, 108, 0.3)",l.lineWidth=2,re(l,u,h,240),l.font="bold 28px Arial",l.fillStyle="#be202e",l.fillText("â— LIVE TRACKING",u,270),l.font="32px Arial",l.fillStyle="#6c6c6c",l.fillText(`RANGE ${a} KM`,u,790),function(e,t,n,s,i){e.strokeStyle="rgba(108, 108, 108, 0.3)",e.lineWidth=20,e.beginPath(),e.arc(t,n,140,0,2*Math.PI),e.stroke(),e.shadowColor="#be202e",e.shadowBlur=15,e.strokeStyle="#be202e",e.lineWidth=20,e.beginPath(),e.arc(t,n,140,-Math.PI/2,-Math.PI/2+i*Math.PI*2),e.stroke(),e.shadowBlur=0,e.font="bold 72px Arial",e.fillStyle="#ffffff",e.textAlign="center",e.fillText(Math.round(100*i)+"%",t,570),e.font="bold 28px Arial",e.fillStyle="#6c6c6c",e.fillText("FUEL LEVEL",t,610),e.strokeStyle="rgba(190, 32, 46, 0.6)",e.lineWidth=3;e.beginPath(),e.moveTo(100,400),e.lineTo(100,370),e.lineTo(130,370),e.stroke(),e.beginPath(),e.moveTo(430,370),e.lineTo(460,370),e.lineTo(460,400),e.stroke(),e.beginPath(),e.moveTo(100,700),e.lineTo(100,730),e.lineTo(130,730),e.stroke(),e.beginPath(),e.moveTo(430,730),e.lineTo(460,730),e.lineTo(460,700),e.stroke(),e.font="20px monospace",e.fillStyle="#6c6c6c",e.textAlign="center",e.fillText("SENSOR: ACTIVE",t,750),e.fillText(`LITERS: ${Math.round(400*i)}L`,t,780)}(l,280,550,0,n),function(e,t){const n=280,s=320;e.strokeStyle="rgba(190, 32, 46, 0.4)",e.lineWidth=2,e.strokeRect(1628,390,n,s),e.strokeStyle="rgba(108, 108, 108, 0.3)",e.lineWidth=1,e.strokeRect(1638,400,260,300),e.font="bold 28px Arial",e.fillStyle="#be202e",e.textAlign="center",e.fillText("DIAGNOSTICS",t,430),e.strokeStyle="rgba(190, 32, 46, 0.5)",e.lineWidth=1,e.beginPath(),e.moveTo(1648,460),e.lineTo(1888,460),e.stroke(),e.font="22px monospace",e.textAlign="left",e.fillStyle="#6c6c6c",e.fillText("ENGINE",1658,500),e.fillStyle="#be202e",e.fillText("â— ONLINE",1778,500),e.fillStyle="#6c6c6c",e.fillText("SENSOR",1658,540),e.fillStyle="#be202e",e.fillText("â— ACTIVE",1778,540),e.fillStyle="#6c6c6c",e.fillText("GPS",1658,580),e.fillStyle="#be202e",e.fillText("â— LOCKED",1778,580),e.fillStyle="#6c6c6c",e.fillText("TEMP",1658,620),e.fillStyle="#ffffff",e.fillText("18Â°C",1778,620),e.fillStyle="#6c6c6c",e.fillText("PRESSURE",1658,660),e.fillStyle="#ffffff",e.fillText("2.4 BAR",1778,660)}(l,1768),function(e,t,n,s){e.fillStyle="rgba(190, 32, 46, 0.1)",e.fillRect(0,0,2048,200),e.strokeStyle="rgba(190, 32, 46, 0.5)",e.lineWidth=2,e.beginPath(),e.moveTo(0,200),e.lineTo(2048,200),e.stroke(),e.textAlign="center",e.shadowColor="#be202e",e.shadowBlur=20,e.font="bold 56px Arial",e.fillStyle="#ffffff",e.fillText("TRANSLINK",t,90),e.shadowBlur=0,e.font="bold 36px Arial",e.fillStyle="#be202e",e.fillText("FUEL TELEMATICS SYSTEM",t,140),e.textAlign="left",e.font="bold 32px monospace",e.fillStyle="#6c6c6c",e.fillText("TIME",100,90),e.fillStyle="#ffffff",e.fillText(s,100,140),e.textAlign="right",e.font="bold 32px monospace",e.fillStyle="#6c6c6c",e.fillText("AMBIENT",1948,90),e.fillStyle="#ffffff",e.fillText(`${n}Â°C`,1948,140),e.strokeStyle="#be202e",e.lineWidth=3,e.beginPath(),e.moveTo(50,80),e.lineTo(50,50),e.lineTo(80,50),e.stroke(),e.beginPath(),e.moveTo(1998,80),e.lineTo(1998,50),e.lineTo(1968,50),e.stroke()}(l,u,i,r),new V(c)}function re(e,t,n,s){e.beginPath();for(let i=0;i<6;i++){const r=Math.PI/3*i-Math.PI/2,o=t+s*Math.cos(r),a=n+s*Math.sin(r);0===i?e.moveTo(o,a):e.lineTo(o,a)}e.closePath(),e.stroke()}const oe=({scene:e,truckGroup:t,position:n=[-7.6,9.8,5.3],rotation:s=[1.5707963267948966,-1.5707963267948966,0],size:i=[7.5,4],initialData:r={speed:85,fuelLevel:.65},onMaterialCreated:o,onMeshCreated:a,onGroupCreated:c})=>{const d=l.useRef(null),u=l.useRef(null);return l.useEffect(()=>{if(!e||!t)return;const l=new N;d.current=l;const h=ie(r),f=new z({map:h,transparent:!0,opacity:1,side:B});u.current=f;const p=new R(new L(i[0],i[1]),f);return l.add(p),l.position.set(...n),l.rotation.set(...s),t.add(l),o&&o(f),a&&a(p),c&&c(l),()=>{d.current&&(t.remove(d.current),d.current.traverse(e=>{var t,n;e instanceof R&&(null==(t=e.geometry)||t.dispose(),Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):null==(n=e.material)||n.dispose())}))}},[e,t]),null},ae=({scene:e,count:t=400,color:n=12632256,size:s=.06,opacity:i=.4,spread:r=[60,20,300],sizeRange:o=[.02,.08],animationSpeed:a=160,resetDistance:c=100,onParticlesCreated:d})=>{const u=l.useRef(null);return l.useEffect(()=>{if(!e)return;const a=new D,c=new Float32Array(3*t),l=new Float32Array(t);for(let e=0;e<3*t;e+=3)c[e]=(Math.random()-.5)*r[0],c[e+1]=Math.random()*r[1],c[e+2]=(Math.random()-.5)*r[2],l[e/3]=Math.random()*(o[1]-o[0])+o[0];a.setAttribute("position",new W(c,3)),a.setAttribute("size",new W(l,1));const h=new $({color:n,size:s,transparent:!0,opacity:i,sizeAttenuation:!0}),f=new H(a,h);return u.current=f,e.add(f),d&&d(f),()=>{u.current&&(e.remove(u.current),u.current.geometry.dispose(),u.current.material instanceof q&&u.current.material.dispose())}},[e]),null};class ce{constructor(){a(this,"ctx",null),a(this,"masterGain",null),a(this,"engineRefs",{}),a(this,"engineRumbleGain",null),a(this,"windRefs",{}),a(this,"scannerNode",null),a(this,"scannerGain",null),a(this,"hornOsc1",null),a(this,"hornOsc2",null),a(this,"hornGain",null),a(this,"airBrakeBuffer",null),a(this,"airBrakeGain",null),a(this,"engineStartBuffer",null),a(this,"engineStartPlaying",!1),a(this,"engineRunBuffer",null),a(this,"engineRunSource",null),a(this,"engineRunGain",null),a(this,"initialized",!1)}init(){if(this.initialized)return;const e=window.AudioContext||window.webkitAudioContext;this.ctx=new e,this.masterGain=this.ctx.createGain(),this.masterGain.gain.value=0,this.masterGain.connect(this.ctx.destination),this.setupScanner(),this.setupHorn(),this.loadAirBrake(),this.loadEngineStart(),this.loadEngineRun(),this.initialized=!0}toggleMute(e){var t,n;if("closed"===(null==(t=this.ctx)?void 0:t.state)&&(this.initialized=!1,this.init()),this.initialized||this.init(),"suspended"===(null==(n=this.ctx)?void 0:n.state)&&this.ctx.resume(),this.masterGain&&this.ctx){const t=this.ctx.currentTime,n=e?0:.25;this.masterGain.gain.setTargetAtTime(n,t,.3)}}createNoiseBuffer(e){if(!this.ctx)return null;const t=2*this.ctx.sampleRate,n=this.ctx.createBuffer(1,t,this.ctx.sampleRate),s=n.getChannelData(0);if("pink"===e){let e=0,n=0,i=0,r=0,o=0,a=0,c=0;for(let l=0;l<t;l++){const t=2*Math.random()-1;e=.99886*e+.0555179*t,n=.99332*n+.0750759*t,i=.969*i+.153852*t,r=.8665*r+.3104856*t,o=.55*o+.5329522*t,a=-.7616*a-.016898*t,s[l]=e+n+i+r+o+a+c+.5362*t,s[l]*=.11,c=.115926*t}}else{let e=0;for(let n=0;n<t;n++){const t=2*Math.random()-1;s[n]=(e+.02*t)/1.02,e=s[n],s[n]*=3.5}}return n}setupEngine(){if(!this.ctx||!this.masterGain)return;const e=this.createNoiseBuffer("brown");if(e){const t=this.ctx.createBufferSource();t.buffer=e,t.loop=!0;const n=this.ctx.createBiquadFilter();n.type="lowpass",n.frequency.value=100;const s=this.ctx.createGain();s.gain.value=0,t.connect(n),n.connect(s),s.connect(this.masterGain),t.start(),this.engineRefs.rumbleFilter=n,this.engineRumbleGain=s}const t=this.ctx.createOscillator();t.type="sawtooth",t.frequency.value=60;const n=this.ctx.createGain();n.gain.value=0;const s=this.ctx.createOscillator();s.type="sine",s.frequency.value=12;const i=this.ctx.createGain();i.gain.value=.15,s.connect(i),i.connect(n.gain);const r=this.ctx.createBiquadFilter();r.type="lowpass",r.frequency.value=400,t.connect(r),r.connect(n),n.connect(this.masterGain),t.start(),s.start(),this.engineRefs.pistonOsc=t,this.engineRefs.pistonLFO=s}setupAmbience(){if(!this.ctx||!this.masterGain)return;const e=this.createNoiseBuffer("pink");if(!e)return;const t=this.ctx.createBufferSource();t.buffer=e,t.loop=!0;const n=this.ctx.createBiquadFilter();n.type="lowpass",n.frequency.value=350;const s=this.ctx.createGain();s.gain.value=0,t.connect(n),n.connect(s),s.connect(this.masterGain),t.start(),this.windRefs.roadGain=s;const i=this.ctx.createBufferSource();i.buffer=e,i.loop=!0;const r=this.ctx.createBiquadFilter();r.type="bandpass",r.frequency.value=600,r.Q.value=.3;const o=this.ctx.createGain();o.gain.value=0,i.connect(r),r.connect(o),o.connect(this.masterGain),i.start(),this.windRefs.windGain=o}setupScanner(){if(!this.ctx||!this.masterGain)return;const e=.5*this.ctx.sampleRate,t=this.ctx.createBuffer(1,e,this.ctx.sampleRate),n=t.getChannelData(0);for(let o=0;o<e;o++)n[o]=.5*(2*Math.random()-1);const s=this.ctx.createBufferSource();s.buffer=t,s.loop=!0;const i=this.ctx.createBiquadFilter();i.type="bandpass",i.frequency.value=2500,i.Q.value=8;const r=this.ctx.createGain();r.gain.value=0,s.connect(i),i.connect(r),r.connect(this.masterGain),s.start(),this.scannerNode=s,this.scannerGain=r}setupHorn(){if(!this.ctx||!this.masterGain)return;const e=this.ctx.createOscillator();e.type="sawtooth",e.frequency.value=185;const t=this.ctx.createOscillator();t.type="sawtooth",t.frequency.value=233;const n=this.ctx.createGain();n.gain.value=0,e.connect(n),t.connect(n),n.connect(this.masterGain),e.start(),t.start(),this.hornOsc1=e,this.hornOsc2=t,this.hornGain=n}loadAirBrake(){return c(this,null,function*(){if(this.ctx&&this.masterGain)try{const e=yield fetch("/audio/Truck-Recycling-Air_Brake-Foot_Pedal.mp3");if(!e.ok)return;const t=yield e.arrayBuffer();this.airBrakeBuffer=yield this.ctx.decodeAudioData(t)}catch(e){}})}loadEngineStart(){return c(this,null,function*(){if(this.ctx&&this.masterGain)try{const e=yield fetch("/audio/Truck-Engine-Start.mp3");if(!e.ok)return;const t=yield e.arrayBuffer();this.engineStartBuffer=yield this.ctx.decodeAudioData(t)}catch(e){}})}loadEngineRun(){return c(this,null,function*(){if(this.ctx&&this.masterGain)try{const e=yield fetch("/audio/Truck-Engine-Run2.mp3");if(!e.ok)return;const t=yield e.arrayBuffer();this.engineRunBuffer=yield this.ctx.decodeAudioData(t),this.engineRunGain=this.ctx.createGain(),this.engineRunGain.gain.value=0,this.engineRunGain.connect(this.masterGain)}catch(e){}})}triggerEngineStart(){if(!this.ctx||!this.engineStartBuffer)return;if(this.engineStartPlaying)return;const e=this.ctx.currentTime,t=this.engineStartBuffer.duration;this.engineStartPlaying=!0,this.engineRunBuffer&&this.engineRunGain&&(this.engineRunSource=this.ctx.createBufferSource(),this.engineRunSource.buffer=this.engineRunBuffer,this.engineRunSource.loop=!0,this.engineRunSource.connect(this.engineRunGain),this.engineRunGain.gain.cancelScheduledValues(e),this.engineRunGain.gain.setValueAtTime(0,e),this.engineRunGain.gain.setValueAtTime(0,e+2),this.engineRunGain.gain.linearRampToValueAtTime(.15,e+2+.3),this.engineRunGain.gain.linearRampToValueAtTime(.25,e+t),this.engineRunSource.start(e));const n=this.ctx.createBufferSource();n.buffer=this.engineStartBuffer;const s=this.ctx.createGain();s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(1,e+.1),s.gain.setValueAtTime(1,e+2),s.gain.linearRampToValueAtTime(0,e+t),n.connect(s),s.connect(this.masterGain),n.start(e),n.stop(e+t),n.onended=()=>{this.engineStartPlaying=!1}}triggerAirBrake(){if(!this.ctx||!this.airBrakeBuffer)return;const e=this.ctx.currentTime,t=this.airBrakeBuffer.duration,n=this.ctx.createBufferSource();n.buffer=this.airBrakeBuffer;const s=this.ctx.createGain();s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(1.2,e+.05),s.gain.setValueAtTime(1.2,e+Math.max(0,t-.2)),s.gain.linearRampToValueAtTime(0,e+t),n.connect(s),s.connect(this.masterGain),n.start(e),n.stop(e+t)}triggerHornOnly(){if(!this.ctx||!this.hornGain)return;const e=this.ctx.currentTime;this.hornGain.gain.cancelScheduledValues(e),this.hornGain.gain.setValueAtTime(0,e),this.hornGain.gain.linearRampToValueAtTime(.2,e+.05),this.hornGain.gain.linearRampToValueAtTime(.2,e+.9),this.hornGain.gain.linearRampToValueAtTime(0,e+1),this.hornGain.gain.linearRampToValueAtTime(.2,e+1.2),this.hornGain.gain.linearRampToValueAtTime(.2,e+1.7),this.hornGain.gain.linearRampToValueAtTime(0,e+1.8)}triggerHorn(){if(!this.ctx||!this.hornGain)return;const e=this.ctx.currentTime;this.triggerAirBrake(),this.hornGain.gain.cancelScheduledValues(e),this.hornGain.gain.setValueAtTime(0,e),this.hornGain.gain.linearRampToValueAtTime(.2,e+.3),this.hornGain.gain.linearRampToValueAtTime(.2,e+1.2),this.hornGain.gain.linearRampToValueAtTime(0,e+1.3),this.hornGain.gain.linearRampToValueAtTime(.2,e+1.5),this.hornGain.gain.linearRampToValueAtTime(.2,e+2),this.hornGain.gain.linearRampToValueAtTime(0,e+2.1)}triggerChirp(){if(!this.ctx||!this.masterGain||this.masterGain.gain.value<.01)return;const e=this.ctx.currentTime,t=this.ctx.createOscillator();t.type="sine",t.frequency.setValueAtTime(2e3,e),t.frequency.exponentialRampToValueAtTime(1e3,e+.1);const n=this.ctx.createGain();n.gain.setValueAtTime(.05,e),n.gain.exponentialRampToValueAtTime(.001,e+.1),t.connect(n),n.connect(this.masterGain),t.start(e),t.stop(e+.2)}reduceEngineVolume(){if(!this.ctx||!this.engineRunGain)return;const e=this.ctx.currentTime;this.engineRunGain.gain.cancelScheduledValues(e),this.engineRunGain.gain.setValueAtTime(this.engineRunGain.gain.value,e),this.engineRunGain.gain.linearRampToValueAtTime(.15,e+1)}update(e){this.ctx&&"suspended"!==this.ctx.state&&(this.engineRefs.pistonLFO&&(this.engineRefs.pistonLFO.frequency.value=12+.5*Math.sin(.3*e)),this.engineRefs.rumbleFilter&&(this.engineRefs.rumbleFilter.frequency.value=100+5*Math.sin(.15*e)),this.windRefs.windGain&&(this.windRefs.windGain.gain.value=.1+.02*Math.sin(.2*e)))}updateScannerVolume(e,t){if(this.ctx&&this.scannerGain)if(e){const e=.06+.02*Math.sin(60*t);this.scannerGain.gain.setTargetAtTime(e,this.ctx.currentTime,.05)}else this.scannerGain.gain.setTargetAtTime(0,this.ctx.currentTime,.1)}dispose(){this.ctx&&(this.ctx.close(),this.ctx=null),this.initialized=!1}}const le=({text:e,delay:t=0,speed:n=30,onComplete:s,className:i=""})=>{const[r,o]=l.useState(""),[a,c]=l.useState(!1),u=l.useRef(0);l.useEffect(()=>{if(t>0){const e=setTimeout(()=>{h()},t);return()=>clearTimeout(e)}h()},[e,t,n]);const h=()=>{const t=setInterval(()=>{u.current<e.length?(o(e.slice(0,u.current+1)),u.current++):(clearInterval(t),c(!0),s&&s())},n);return()=>clearInterval(t)};return d.jsxs("span",{className:i,children:[r,!a&&d.jsx("span",{className:"typewriter-cursor",children:"|"})]})},de=({scrollProgress:e,activePhase:t,sectionName:n})=>d.jsx("div",{className:"hud-progress",children:d.jsxs("div",{className:"hud-progress-bar",children:[d.jsx("div",{className:"hud-progress-fill",style:{height:`${e}%`}}),[{position:0,label:"START",sublabel:"Intro Phase",range:[0,14]},{position:15,label:"VELOCITY",sublabel:"Real-Time Tracking",range:[15,34]},{position:35,label:"SENSOR HEAD",sublabel:"Fuel Detection",range:[35,49]},{position:50,label:"SEQ 2 START",sublabel:"Second Sequence",range:[50,64]},{position:65,label:"VELOCITY",sublabel:"Performance Data",range:[65,84]},{position:85,label:"SENSOR HEAD",sublabel:"Component Details",range:[85,99]},{position:100,label:"COMPLETE",sublabel:"Journey End",range:[100,100]}].map((t,n)=>{const s=e>=t.range[0]&&e<=t.range[1],i=e>=t.position;return d.jsx("div",{className:`hud-marker ${i?"active":""} ${s?"current":""}`,style:{top:`${t.position}%`},children:d.jsxs("div",{className:"hud-marker-text",children:[d.jsxs("div",{className:"hud-marker-label",children:[e,"% ",t.label]}),d.jsx("div",{className:"hud-marker-sublabel",children:t.sublabel})]})},n)})]})}),ue={telematicsDisplay:{position:[-7.1,.5,-.7],rotation:[-.3490658503988659,0,0],size:[6,3]},fuelSensor:{position:[3.1,.6,-5],rotation:[0,0,0],scale:1,probeLength:1.3},truck:{position:[1.1,-1.1,-5.3],rotation:[0,3.141592653589793,0],scale:[1.5,1.5,1.5]},logo:{position:[0,2.25,5.35],rotation:[0,0,.017453292519943295],scale:[1,.96],offsetZ:-.5,visible:!0}};class he{constructor(e={}){var t,n;a(this,"config"),a(this,"state"),a(this,"transforms",null),this.config={transformsPath:e.transformsPath||"/config/objectTransforms.json",enableValidation:null==(t=e.enableValidation)||t,logTransforms:null==(n=e.logTransforms)||n},this.state={cssLoaded:!1,assetsLoaded:!1,sceneReady:!1,renderingStarted:!1}}waitForCSS(){return c(this,null,function*(){yield function(){return c(this,null,function*(){return"complete"===document.readyState?new Promise(e=>requestAnimationFrame(()=>e())):new Promise(e=>{window.addEventListener("load",()=>{requestAnimationFrame(()=>e())},{once:!0})})})}(),yield function(e=1){return c(this,null,function*(){for(let t=0;t<e;t++)yield new Promise(e=>requestAnimationFrame(e))})}(2),this.state.cssLoaded=!0})}initializeScene(){return c(this,null,function*(){this.state.cssLoaded||(yield this.waitForCSS());const e=new U;return e.background=new Y(988185),e.fog=new K(1910325,10,50),this.state.sceneReady=!0,e})}applyTransforms(e,t){this.config.logTransforms,e.position.set(...t.position),e.rotation.set(...t.rotation),"number"==typeof t.scale?e.scale.set(t.scale,t.scale,t.scale):e.scale.set(...t.scale),this.config.logTransforms}loadTransforms(){return c(this,null,function*(){if(this.transforms)return this.transforms;try{const e=yield fetch(this.config.transformsPath);if(!e.ok)throw new Error(`Failed to load transforms: ${e.statusText}`);return this.transforms=yield e.json(),this.transforms}catch(e){throw e}})}validateTransforms(e,t,n=.001){return c(this,null,function*(){const s={valid:!0,errors:[],warnings:[]};if(!this.config.enableValidation)return s;try{this.transforms||(yield this.loadTransforms());const i=this.transforms[e];if(!i)return s.warnings.push(`No transform configuration found for '${e}'`),s;[Math.abs(t.position.x-i.position[0]),Math.abs(t.position.y-i.position[1]),Math.abs(t.position.z-i.position[2])].some(e=>e>n)&&(s.valid=!1,s.errors.push(`Position mismatch for '${e}': expected ${i.position}, got [${t.position.x.toFixed(3)}, ${t.position.y.toFixed(3)}, ${t.position.z.toFixed(3)}]`)),[Math.abs(t.rotation.x-i.rotation[0]),Math.abs(t.rotation.y-i.rotation[1]),Math.abs(t.rotation.z-i.rotation[2])].some(e=>e>n)&&(s.valid=!1,s.errors.push(`Rotation mismatch for '${e}': expected ${i.rotation}, got [${t.rotation.x.toFixed(3)}, ${t.rotation.y.toFixed(3)}, ${t.rotation.z.toFixed(3)}]`));const r="number"==typeof i.scale?[i.scale,i.scale,i.scale]:i.scale;r&&[Math.abs(t.scale.x-r[0]),Math.abs(t.scale.y-r[1]),Math.abs(t.scale.z-r[2])].some(e=>e>n)&&(s.valid=!1,s.errors.push(`Scale mismatch for '${e}': expected ${r}, got [${t.scale.x.toFixed(3)}, ${t.scale.y.toFixed(3)}, ${t.scale.z.toFixed(3)}]`)),s.valid}catch(i){s.valid=!1,s.errors.push(`Validation error: ${i}`)}return s})}getInitializationState(){return o({},this.state)}markAssetsLoaded(){this.state.assetsLoaded=!0}markRenderingStarted(){this.state.renderingStarted=!0}isReadyForRendering(){return this.state.cssLoaded&&this.state.sceneReady&&this.state.assetsLoaded}reset(){this.state={cssLoaded:!1,assetsLoaded:!1,sceneReady:!1,renderingStarted:!1},this.transforms=null}}const fe=({enabled:e,fps:t=0,transforms:n=[],assetMetrics:s=[],camera:i,onClose:r})=>{const[o,a]=l.useState(!1),[c,u]=l.useState("fps"),[h,f]=l.useState(!1);return e?d.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",backgroundColor:"rgba(29, 38, 53, 0.95)",color:"#ffffff",fontFamily:"JetBrains Mono, monospace",fontSize:"12px",padding:o?"8px 12px":"16px",borderRadius:"8px",border:"1px solid #6c6c6c",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",zIndex:1e4,maxWidth:o?"auto":"400px",maxHeight:o?"auto":"80vh",overflow:"auto",transition:"all 0.3s ease"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:o?0:"12px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("span",{style:{fontSize:"14px",fontWeight:"bold"},children:"ðŸ” Diagnostics"}),!o&&d.jsx("span",{style:{fontSize:"10px",color:"#b8b8b8",backgroundColor:"#6c6c6c",padding:"2px 6px",borderRadius:"4px"},children:"PRODUCTION"})]}),d.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d.jsx("button",{onClick:()=>a(!o),style:{background:"none",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"16px",padding:"0 4px"},title:o?"Expand":"Minimize",children:o?"â–¢":"âˆ’"}),r&&d.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"#be202e",cursor:"pointer",fontSize:"16px",padding:"0 4px"},title:"Close",children:"Ã—"})]})]}),!o&&d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"12px",borderBottom:"1px solid #6c6c6c"},children:["fps","transforms","assets","camera"].map(e=>d.jsx("button",{onClick:()=>u(e),style:{background:c===e?"#be202e":"transparent",border:"none",color:"#ffffff",cursor:"pointer",padding:"6px 12px",fontSize:"11px",fontWeight:c===e?"bold":"normal",textTransform:"uppercase",borderRadius:"4px 4px 0 0",transition:"all 0.2s ease"},children:e},e))}),d.jsxs("div",{style:{minHeight:"100px"},children:["fps"===c&&d.jsxs("div",{children:[d.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:(p=t,p>=55?"#209771":"#be202e"),marginBottom:"8px"},children:[t.toFixed(1)," FPS"]}),d.jsx("div",{style:{fontSize:"10px",color:"#b8b8b8",marginBottom:"12px"},children:t>=55?"âœ… Excellent":t>=30?"âš ï¸ Acceptable":"âŒ Poor"}),d.jsxs("div",{style:{fontSize:"10px",color:"#b8b8b8"},children:[d.jsx("div",{children:"Target: 60 FPS"}),d.jsxs("div",{children:["Frame time: ",(1e3/t).toFixed(2),"ms"]})]})]}),"transforms"===c&&d.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:0===n.length?d.jsx("div",{style:{color:"#b8b8b8",fontSize:"11px"},children:"No transform data available"}):n.map((e,t)=>d.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid #6c6c6c"},children:[d.jsx("div",{style:{fontWeight:"bold",color:"#be202e",marginBottom:"4px"},children:e.name}),d.jsxs("div",{style:{fontSize:"10px",lineHeight:"1.4"},children:[d.jsxs("div",{children:["Pos: [",e.position.x.toFixed(3),", ",e.position.y.toFixed(3),", ",e.position.z.toFixed(3),"]"]}),d.jsxs("div",{children:["Rot: [",e.rotation.x.toFixed(3),", ",e.rotation.y.toFixed(3),", ",e.rotation.z.toFixed(3),"]"]}),d.jsxs("div",{children:["Scale: [",e.scale.x.toFixed(3),", ",e.scale.y.toFixed(3),", ",e.scale.z.toFixed(3),"]"]}),e.environment&&d.jsxs("div",{style:{color:"#209771",marginTop:"4px"},children:["Env: ",e.environment]})]})]},t))}),"assets"===c&&d.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:0===s.length?d.jsx("div",{style:{color:"#b8b8b8",fontSize:"11px"},children:"No asset metrics available"}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"12px",fontSize:"10px",color:"#b8b8b8"},children:["Total assets: ",s.length," | Cached: ",s.filter(e=>e.cached).length]}),s.map((e,t)=>d.jsxs("div",{style:{marginBottom:"8px",paddingBottom:"8px",borderBottom:"1px solid #6c6c6c"},children:[d.jsxs("div",{style:{fontWeight:"bold",fontSize:"11px",marginBottom:"2px"},children:[e.name,e.cached&&d.jsx("span",{style:{color:"#209771",marginLeft:"6px"},children:"â—"})]}),d.jsxs("div",{style:{fontSize:"10px",color:"#b8b8b8"},children:[d.jsxs("div",{children:["Size: ",(e.size/1024/1024).toFixed(2)," MB"]}),d.jsxs("div",{children:["Load: ",e.loadTime,"ms",e.decodeTime?` | Decode: ${e.decodeTime}ms`:""]})]})]},t))]})}),"camera"===c&&d.jsx("div",{children:i?d.jsxs("div",{style:{fontSize:"10px",lineHeight:"1.6"},children:[d.jsx("div",{style:{fontWeight:"bold",color:"#be202e",marginBottom:"8px"},children:"Position"}),d.jsxs("div",{children:["X: ",i.position.x.toFixed(3)]}),d.jsxs("div",{children:["Y: ",i.position.y.toFixed(3)]}),d.jsxs("div",{children:["Z: ",i.position.z.toFixed(3)]}),d.jsx("div",{style:{fontWeight:"bold",color:"#be202e",marginTop:"12px",marginBottom:"8px"},children:"Rotation"}),d.jsxs("div",{children:["X: ",i.rotation.x.toFixed(3)," rad (",(180*i.rotation.x/Math.PI).toFixed(1),"Â°)"]}),d.jsxs("div",{children:["Y: ",i.rotation.y.toFixed(3)," rad (",(180*i.rotation.y/Math.PI).toFixed(1),"Â°)"]}),d.jsxs("div",{children:["Z: ",i.rotation.z.toFixed(3)," rad (",(180*i.rotation.z/Math.PI).toFixed(1),"Â°)"]}),i instanceof J&&d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{fontWeight:"bold",color:"#be202e",marginTop:"12px",marginBottom:"8px"},children:"Camera"}),d.jsxs("div",{children:["FOV: ",i.fov,"Â°"]}),d.jsxs("div",{children:["Aspect: ",i.aspect.toFixed(3)]}),d.jsxs("div",{children:["Near: ",i.near]}),d.jsxs("div",{children:["Far: ",i.far]})]})]}):d.jsx("div",{style:{color:"#b8b8b8",fontSize:"11px"},children:"No camera data available"})})]}),d.jsx("button",{onClick:()=>{const e={timestamp:(new Date).toISOString(),fps:t,transforms:n.map(e=>({name:e.name,position:e.position,rotation:e.rotation,scale:e.scale})),assetMetrics:s.map(e=>({name:e.name,size:`${(e.size/1024/1024).toFixed(2)} MB`,loadTime:`${e.loadTime}ms`,cached:e.cached})),camera:i?{position:{x:i.position.x.toFixed(3),y:i.position.y.toFixed(3),z:i.position.z.toFixed(3)},rotation:{x:i.rotation.x.toFixed(3),y:i.rotation.y.toFixed(3),z:i.rotation.z.toFixed(3)}}:null};navigator.clipboard.writeText(JSON.stringify(e,null,2)),f(!0),setTimeout(()=>f(!1),2e3)},style:{width:"100%",marginTop:"12px",padding:"8px",backgroundColor:h?"#209771":"#6c6c6c",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"bold",transition:"all 0.2s ease"},children:h?"âœ“ Copied!":"ðŸ“‹ Copy Diagnostic Data"}),d.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #6c6c6c",fontSize:"9px",color:"#b8b8b8",textAlign:"center"},children:"Press ESC to close | Refresh to update"})]})]}):null;var p};class pe extends Error{constructor(e,t={}){super(e),a(this,"context"),a(this,"timestamp"),this.name=this.constructor.name,this.context=t,this.timestamp=Date.now(),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}toJSON(){return{name:this.name,message:this.message,context:this.context,timestamp:new Date(this.timestamp).toISOString(),stack:this.stack}}toString(){return`${this.name}: ${this.message}\nContext: ${JSON.stringify(this.context,null,2)}`}}class me extends pe{constructor(e,t){super(e,t)}}class xe extends pe{constructor(e,t){super(e,t)}}class ge extends pe{constructor(e,t){super(e,t)}}class be extends pe{constructor(e,t){super(e,t)}}const ve=class e{constructor(){a(this,"errorLog",[]),a(this,"maxLogSize",100)}static getInstance(){return e.instance||(e.instance=new e),e.instance}handle(e,t){e instanceof pe&&(this.errorLog.push(e),this.errorLog.length>this.maxLogSize&&this.errorLog.shift()),e.stack,t&&t(e)}getErrorLog(){return[...this.errorLog]}clearErrorLog(){this.errorLog=[]}exportErrorLog(){return JSON.stringify(this.errorLog.map(e=>e.toJSON()),null,2)}getErrorStats(){const e={};return this.errorLog.forEach(t=>{e[t.name]=(e[t.name]||0)+1}),{total:this.errorLog.length,byType:e,recent:this.errorLog.slice(-10)}}};a(ve,"instance");const ye=ve.getInstance();function we(e){return e instanceof xe?!0===e.context.canRecover:e instanceof me||e instanceof be}class Se extends l.Component{constructor(e){super(e),a(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset&&this.props.onReset(),this.state.errorCount>=3&&window.location.reload()}),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState(e=>({errorInfo:t,errorCount:e.errorCount+1})),ye.handle(e),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#1d2635",color:"#ffffff",fontFamily:"Inter, sans-serif",padding:"20px",zIndex:9999},children:[d.jsx("div",{style:{fontSize:"64px",marginBottom:"24px",animation:"pulse 2s ease-in-out infinite"},children:"âš ï¸"}),d.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#be202e",textAlign:"center"},children:"3D Scene Error"}),d.jsx("p",{style:{fontSize:"18px",marginBottom:"24px",textAlign:"center",maxWidth:"600px",lineHeight:"1.6",color:"#b8b8b8"},children:this.state.error?(e=this.state.error,e instanceof me?`Failed to load ${e.context.assetName}. Please refresh the page.`:e instanceof xe?"not-supported"===e.context.contextType?"Your browser does not support WebGL. Please use a modern browser.":"Graphics context was lost. Attempting to recover...":e instanceof be?"Loading optimized assets failed. Falling back to standard quality...":e instanceof ge?"Failed to initialize 3D scene. Please refresh the page.":"An unexpected error occurred. Please refresh the page."):"An unexpected error occurred."}),this.state.error&&d.jsxs("details",{style:{marginBottom:"24px",maxWidth:"800px",width:"100%",backgroundColor:"rgba(108, 108, 108, 0.2)",padding:"16px",borderRadius:"8px",border:"1px solid #6c6c6c"},children:[d.jsx("summary",{style:{cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#ffffff"},children:"Technical Details"}),d.jsxs("div",{style:{fontSize:"12px",fontFamily:"JetBrains Mono, monospace",color:"#b8b8b8",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[d.jsxs("div",{style:{marginBottom:"12px"},children:[d.jsx("strong",{style:{color:"#be202e"},children:"Error:"})," ",this.state.error.message]}),this.state.error.stack&&d.jsxs("div",{children:[d.jsx("strong",{style:{color:"#be202e"},children:"Stack Trace:"}),d.jsx("pre",{style:{marginTop:"8px",fontSize:"11px",overflow:"auto"},children:this.state.error.stack})]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",justifyContent:"center"},children:[this.state.error&&we(this.state.error)&&d.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#209771",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#25b085"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#209771"},children:"ðŸ”„ Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#be202e",color:"#ffffff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#d12a3a"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#be202e"},children:"â†» Reload Page"}),d.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"12px 24px",fontSize:"16px",fontWeight:"bold",backgroundColor:"transparent",color:"#ffffff",border:"2px solid #6c6c6c",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.borderColor="#b8b8b8"},onMouseOut:e=>{e.currentTarget.style.borderColor="#6c6c6c"},children:"ðŸ  Go Home"})]}),this.state.errorCount>=2&&d.jsx("div",{style:{marginTop:"24px",padding:"12px 16px",backgroundColor:"rgba(190, 32, 46, 0.2)",border:"1px solid #be202e",borderRadius:"8px",fontSize:"14px",color:"#ffffff",textAlign:"center"},children:"âš ï¸ Multiple errors detected. The page will reload automatically on the next error."}),d.jsx("div",{style:{marginTop:"48px",fontSize:"12px",color:"#6c6c6c",textAlign:"center"},children:"If this problem persists, please contact support."}),d.jsx("style",{children:"\n            @keyframes pulse {\n              0%, 100% { opacity: 1; transform: scale(1); }\n              50% { opacity: 0.7; transform: scale(1.1); }\n            }\n          "})]}):this.props.children;var e}}function je(){const e=l.useRef(null),t=l.useRef(null),n=l.useRef(null),s=l.useRef([]),[o,a]=l.useState(!0),[v,y]=l.useState(0),[w,S]=l.useState(!0),[j,T]=l.useState(!1),[A,E]=l.useState(100),[M,P]=l.useState(!1),[C,I]=l.useState(0),[D,W]=l.useState(0),[$,H]=l.useState(!1),q=function(){const[e,t]=l.useState(!1);return l.useEffect(()=>{const e=new URLSearchParams(window.location.search);t("true"===e.get("debug"))},[]),e}(),U=function(){const[e,t]=l.useState(60);return l.useEffect(()=>{let e,n=0,s=performance.now();const i=()=>{n++;const r=performance.now(),o=r-s;o>=1e3&&(t(1e3*n/o),n=0,s=r),e=requestAnimationFrame(i)};return e=requestAnimationFrame(i),()=>{cancelAnimationFrame(e)}},[]),e}(),[K,re]=l.useState([]),[pe,me]=l.useState([]),xe=l.useRef(null),ge=l.useRef(!1),be=l.useRef(null),ve=l.useRef(!1),ye=l.useRef(!1),we=l.useRef(null),je=l.useRef(null),Te=l.useRef(null),Ne=l.useRef(null),Re=l.useRef(null),Ae=l.useRef(null),Ee=l.useRef(null),ke=l.useRef(null),Me=l.useRef(null),Pe=l.useRef(null),Ge=l.useRef(null),Ce=l.useRef(null),Le=l.useRef(null),ze=l.useRef(null),Be=l.useRef(null),Fe=l.useRef(null),Ie=l.useRef(null),Oe=l.useRef(null),Ve=l.useRef(null),De=l.useRef(null),We=l.useRef(null);return t.current||(t.current=new ce,t.current.init()),l.useEffect(()=>(w&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="auto"}),[w]),l.useEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},[]),l.useEffect(()=>{const e=C-D;if(Math.abs(e)<.5)return void W(C);const t=setTimeout(()=>{W(t=>{const n=e>0?1:-1,s=t+n;return n>0&&s>=C||n<0&&s<=C?C:s})},5);return()=>clearTimeout(t)},[C,D]),l.useEffect(()=>{if(!e.current)return;let n,i=!0,r=null,o=null,l=null,d=null;return function(){c(this,null,function*(){const c=new he({transformsPath:"/config/objectTransforms.json",enableValidation:!0,logTransforms:!0});if(We.current=c,yield c.waitForCSS(),!i||!e.current)return;const u=yield c.initializeScene(),h=15789544;u.background=new Y(h),u.fog=new Q(h,.012),Fe.current=u;const f=new J(45,window.innerWidth/window.innerHeight,.1,2e3);f.position.set(0,3,-20),xe.current=f,r=new _({antialias:!0,alpha:!1}),r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),r.outputColorSpace=F,r.shadowMap.enabled=!0,r.shadowMap.type=X,e.current.appendChild(r.domElement);const p=new Z(16777215,1);u.add(p);const m=new ee(16777215,2.5);m.position.set(25,35,-15),m.castShadow=!0,m.shadow.mapSize.width=2048,m.shadow.mapSize.height=2048,m.shadow.camera.left=-30,m.shadow.camera.right=30,m.shadow.camera.top=30,m.shadow.camera.bottom=-30,m.shadow.camera.near=1,m.shadow.camera.far=100,m.shadow.bias=-5e-4,m.shadow.radius=4,u.add(m);const x=new ee(16777215,1.4);x.position.set(-20,12,30),u.add(x);const g=new ee(16777215,1.2);g.position.set(15,10,30),u.add(g);const b=new k({color:14737632,roughness:.7,metalness:.08,envMapIntensity:.3}),v=new G({color:6710886,transparent:!0,opacity:.4});Ie.current=b,Oe.current=v;const w=document.createElement("canvas");w.width=512,w.height=512;const S=w.getContext("2d"),j=S.createRadialGradient(256,256,0,256,256,256);j.addColorStop(0,"#e0dcd4"),j.addColorStop(.3,"#e8e4dc"),j.addColorStop(.6,"#ece9e2"),j.addColorStop(1,"#f0ede8"),S.fillStyle=j,S.fillRect(0,0,512,512);const T=new V(w);T.wrapS=te,T.wrapT=te;const A=new R(new L(300,300),new k({map:T,roughness:1,metalness:0,side:B,fog:!0}));A.rotation.x=-Math.PI/2,A.position.y=-1.1,A.receiveShadow=!0,u.add(A);const E=new z({color:12460078,transparent:!0,opacity:.9,side:B,depthWrite:!1}),M=[],C=new R(new L(.25,200),E);C.rotation.x=-Math.PI/2,C.position.set(-2.5,-1.09,-5),C.userData.lane="left-border",C.userData.solid=!0,u.add(C),M.push(C);for(let e=0;e<80;e++){const t=new R(new L(.2,1.5),E);t.rotation.x=-Math.PI/2,t.position.set(1.1,-1.09,3*e-120),t.userData.lane="center",u.add(t),M.push(t)}const D=new R(new L(.25,200),E);D.rotation.x=-Math.PI/2,D.position.set(4.7,-1.09,-5),D.userData.lane="right-border",D.userData.solid=!0,u.add(D),M.push(D);const W=new N;u.add(W),ze.current=W,H(!0);const $=new ne,q={current:0};let U=0,K=0;const re=()=>{var e;const i=$.getDelta(),o=$.getElapsedTime();if(K<2.5){K+=i;const e=Math.min(K/2.5,1),t=e*e*(3-2*e);Ie.current&&(Ie.current.opacity=t,Ie.current.transparent=!0),Oe.current&&(Oe.current.opacity=.4*t)}let a=!1;if(ge.current&&!ve.current){null===be.current&&(be.current=o);const n=o-be.current;if(n<3.5){a=!0;const s=Math.min(n/3,1),i=1-Math.pow(1-s,3);if(W.position.z=120*(1-i),n>2&&n<2.02&&(null==(e=t.current)?void 0:e.masterGain)&&t.current.masterGain.gain.value>0&&t.current.triggerHorn(),n>2&&n<2.5){const e=.2*(Math.random()-.5);f.position.y+=e}}else ve.current||(W.position.z=0,ve.current=!0)}if((ge.current&&ve.current||!ge.current)&&(W.position.z=0),q.current>.02||ge.current){const e=16.67;M.forEach(t=>{t.userData.solid||(t.position.z+=i*e,"center"===t.userData.lane&&t.position.z>100&&(t.position.z-=200))})}if(De.current&&function(e,t,n=160,s=100,i=-300,r=[60,20]){const o=e.geometry.attributes.position.array;for(let a=2;a<o.length;a+=3){const e=1+a%3*.3;o[a]+=t*n*e,o[a]>s&&(o[a]=i,o[a-2]=(Math.random()-.5)*r[0],o[a-1]=Math.random()*r[1])}e.geometry.attributes.position.needsUpdate=!0}(De.current,i),W.position.y=.015*Math.sin(15*o),s.current.length>0&&s.current.forEach(e=>{e.rotation.x+=4*i}),Math.floor(2*o)!==Math.floor(2*(o-i))){const e=96+10*Math.sin(.5*o),t=.002*o,n=Math.max(.15,.65-t);Ve.current&&function(e,t){const n=ie(t);e.map&&e.map.dispose(),e.map=n,e.needsUpdate=!0}(Ve.current,{speed:e,fuelLevel:n})}const c=Math.min(Math.max(q.current,0),1),l={pos:new O(0,3,-20),look:new O(0,2,0)},d={pos:new O(-18,5,22),look:new O(0,1.5,-5)},h={pos:new O(-22,8,45),look:new O(0,2,-10)},p={pos:new O(12,4,-5),look:new O(3.1,1.5,-5)},m={pos:new O(7,2.5,-5),look:new O(3.1,1,-5)},x={pos:new O(3.1,8,-5),look:new O(3.1,0,-5)},g=new O,b=new O;let v=0;if(a)g.copy(h.pos),b.copy(h.look),v=0;else if(ge.current&&ve.current&&c<.15){const e=Math.min(c/.15,1),t=e*e*(3-2*e);g.lerpVectors(h.pos,d.pos,t),b.lerpVectors(h.look,d.look,t),v=0}else if(c<.15){const e=Math.min(c/.15,1),t=e*e*(3-2*e);g.lerpVectors(l.pos,d.pos,t),b.lerpVectors(l.look,d.look,t),v=0}else if(c<.35){const e=Math.min((c-.15)/.2,1);g.lerpVectors(d.pos,p.pos,.3*e),b.lerpVectors(d.look,p.look,.3*e),v=0}else if(c<.55){const e=Math.min((c-.35)/.2,1),t=e*e*(3-2*e);g.lerpVectors(p.pos,m.pos,.5*t),b.lerpVectors(p.look,m.look,.5*t),v=1}else if(c<.75){const e=Math.min((c-.55)/.2,1),t=e*e*(3-2*e);g.lerpVectors(m.pos,m.pos,t),b.lerpVectors(m.look,m.look,t),v=2}else{const e=Math.min((c-.75)/.25,1),t=e*e*(3-2*e);g.lerpVectors(m.pos,x.pos,t),b.lerpVectors(m.look,x.look,t),v=3}v!==U&&(y(v),U=v);const w=.15*Math.sin(.5*o);if(g.y+=w,f.position.lerp(g,.08),f.lookAt(b),1===U&&Be.current){const e=new O;Be.current.getWorldPosition(e);const t=new se;W.getWorldQuaternion(t)}if(2===U){const e=new O,t=(t,n,s,i,r=!1)=>{if(!n||!s)return;t.getWorldPosition(e),e.project(f);const o=(.5*e.x+.5)*window.innerWidth,a=(-.5*e.y+.5)*window.innerHeight,c=r?.1*window.innerWidth:.66*window.innerWidth,l=window.innerHeight*i,d=o+.5*(c-o),u=`M ${o} ${a} L ${d} ${a} L ${d} ${l} L ${c} ${l}`;n.setAttribute("d",u),s.setAttribute("cx",String(o)),s.setAttribute("cy",String(a))};Ge.current&&t(Ge.current,Re.current,ke.current,.25,!1),Ce.current&&t(Ce.current,Ae.current,Me.current,.5,!1),Le.current&&t(Le.current,Ee.current,Pe.current,.75,!1)}r&&r.render(u,f),n=requestAnimationFrame(re)};let oe=!1,ae=!1;o=()=>{var e,n;const s=document.documentElement.scrollHeight-window.innerHeight,i=Math.min(Math.max(window.scrollY/s,0),1);I(Math.round(100*i)),P(i>.03),i<.5&&ge.current&&(ge.current=!1,ve.current=!1,be.current=null),i>=.5&&!ge.current?(ge.current=!0,q.current=0):ge.current?ve.current?q.current=2*(i-.5):q.current=0:q.current=2*i,!oe&&q.current>0&&(null==(e=t.current)?void 0:e.masterGain)&&t.current.masterGain.gain.value>0&&(t.current.triggerAirBrake(),oe=!0),!ae&&q.current>.06&&(null==(n=t.current)?void 0:n.masterGain)&&t.current.masterGain.gain.value>0&&(t.current.triggerHornOnly(),t.current.reduceEngineVolume(),ae=!0)},l=()=>{r&&(f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight))},window.addEventListener("scroll",o),window.addEventListener("resize",l);let ce=!1;d=()=>{!ce&&t.current&&(t.current.initialized||t.current.init(),t.current.masterGain&&0===t.current.masterGain.gain.value&&(t.current.toggleMute(!1),a(!1),ce=!0))},document.addEventListener("click",d),re()})}(),()=>{i=!1,o&&window.removeEventListener("scroll",o),l&&window.removeEventListener("resize",l),d&&document.removeEventListener("click",d),n&&cancelAnimationFrame(n),r&&(e.current&&r.domElement&&e.current.removeChild(r.domElement),r.dispose())}},[]),d.jsxs("div",{className:"app-container",children:[w&&d.jsx("div",{className:"intro-screen "+(j?"fading-out":"visible"),children:d.jsxs("div",{className:"intro-content",children:[d.jsx("div",{className:"intro-header",children:d.jsx("img",{src:"/optimized/logo.webp",alt:"Translink",className:"intro-logo"})}),d.jsx("div",{className:"intro-center",children:100===A?d.jsx("button",{onClick:()=>{t.current&&!ye.current&&(o&&(a(!1),t.current.toggleMute(!1)),t.current.triggerEngineStart(),ye.current=!0),T(!0),setTimeout(()=>{S(!1),document.body.style.overflow="auto"},1e3)},className:"intro-enter-button",children:"ENTER EXPERIENCE"}):d.jsxs("div",{className:"loading-indicator",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{className:"loading-text",children:"Loading 3D Experience..."})]})}),d.jsx("div",{className:"intro-footer",children:d.jsx("p",{className:"intro-subtitle",children:"FLEET TELEMATICS"})})]})}),d.jsxs(Se,{onError:(e,t)=>{},onReset:()=>{},children:[d.jsx("div",{ref:e,className:"canvas-container"}),!w&&d.jsx(de,{scrollProgress:D,activePhase:v,sectionName:((e,t)=>{if(50===e)return"EXTENDED INTRO";const n=e>50?" (SEQ 2)":"";switch(t){case 0:return e<=15?`INTRO${n}`:`VELOCITY${n}`;case 1:return`SENSOR HEAD${n}`;case 2:return`EXPLODED VIEW${n}`;case 3:return`TOP VIEW${n}`;default:return`INTRO${n}`}})(C,v)})]}),d.jsxs("div",{className:"top-bar",children:[d.jsx("div",{className:"top-bar-logo",children:d.jsx("img",{src:"/optimized/logo.webp",alt:"Translink Logo",className:"logo-image"})}),d.jsx("div",{className:"top-bar-controls",children:d.jsxs("button",{onClick:()=>{var e;const n=!o;a(n),null==(e=t.current)||e.toggleMute(n)},className:"audio-button group",children:[o?d.jsx(u,{className:"audio-button-icon",size:16}):d.jsx(h,{className:"audio-button-icon active",size:16}),d.jsxs("span",{className:"audio-button-text",children:["AUDIO ",o?"OFF":"ON"]})]})})]}),d.jsx("div",{className:"bottom-card",children:d.jsx("div",{className:"bottom-card-content",children:d.jsxs("div",{className:"bottom-card-inner",children:[d.jsx("div",{className:"bottom-card-indicator"}),d.jsxs("div",{children:[d.jsxs("h1",{className:"bottom-card-title",children:["FUEL LEVEL ",d.jsx("span",{className:"bottom-card-title-accent",children:"SENSOR PRO"})]}),d.jsx("p",{className:"bottom-card-subtitle",children:"TRANSLINK FUEL TELEMATICS"})]})]})})}),d.jsxs("div",{className:"content-wrapper",children:[d.jsx("section",{className:"section intro-section "+(0!==v||M?"hidden":"visible"),children:d.jsxs("div",{className:"intro-section-content",children:[d.jsxs("div",{className:"intro-section-badge",children:[d.jsx("div",{className:"intro-section-icon-wrapper",children:d.jsx(f,{className:"intro-section-icon",size:24})}),d.jsx("span",{className:"intro-section-badge-text",children:"TRANSLINK SOLUTIONS"})]}),d.jsx("h2",{className:"intro-section-heading",children:"REAL-TIME"}),d.jsx("h3",{className:"intro-section-subheading",children:"FUEL MONITORING"}),d.jsx("div",{className:"intro-section-divider"}),d.jsxs("div",{className:"intro-section-description",children:[d.jsxs("p",{className:"intro-section-description-main",children:["High-precision fuel level monitoring with ",d.jsx("span",{className:"intro-section-description-accent",children:"Â±1% static accuracy"}),"."]}),d.jsx("p",{className:"intro-section-description-secondary",children:"Real-time tracking, theft detection, and seamless fleet integration for comprehensive fuel management."})]}),d.jsxs("div",{className:"intro-section-stats",children:[d.jsxs("div",{className:"intro-section-stat",children:[d.jsx("div",{className:"intro-section-stat-label",children:"Accuracy"}),d.jsx("div",{className:"intro-section-stat-value",children:"Â±1%"})]}),d.jsxs("div",{className:"intro-section-stat",children:[d.jsx("div",{className:"intro-section-stat-label",children:"Resolution"}),d.jsx("div",{className:"intro-section-stat-value",children:"<0.5mm"})]}),d.jsxs("div",{className:"intro-section-stat",children:[d.jsx("div",{className:"intro-section-stat-label",children:"Rating"}),d.jsx("div",{className:"intro-section-stat-value",children:"IP67"})]})]})]})}),d.jsxs("div",{className:"svg-overlay "+(2===v?"visible":"hidden"),children:[d.jsxs("svg",{className:"svg-canvas",children:[d.jsxs("defs",{children:[d.jsx("marker",{id:"dot",markerWidth:"8",markerHeight:"8",refX:"4",refY:"4",children:d.jsx("circle",{cx:"4",cy:"4",r:"2",fill:"#ff5555"})}),d.jsxs("filter",{id:"glow",children:[d.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx("path",{ref:Re,className:"svg-connector-path"}),d.jsx("circle",{ref:ke,r:"5",className:"svg-connector-dot"}),d.jsx("path",{ref:Ae,className:"svg-connector-path"}),d.jsx("circle",{ref:Me,r:"5",className:"svg-connector-dot"}),d.jsx("path",{ref:Ee,className:"svg-connector-path"}),d.jsx("circle",{ref:Pe,r:"5",className:"svg-connector-dot"})]}),d.jsx("div",{className:"info-card info-card-sensor-head",children:d.jsxs("div",{className:"info-card-container",children:[d.jsx("div",{className:"info-card-top-bar"}),d.jsxs("div",{className:"info-card-content",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsxs("div",{className:"info-card-header-left",children:[d.jsx("div",{className:"info-card-icon-wrapper",children:d.jsx(p,{className:"info-card-icon",size:24})}),d.jsxs("div",{className:"info-card-header-text",children:[d.jsx("div",{className:"info-card-component-label",children:"COMPONENT 01"}),d.jsx("h3",{className:"info-card-title",children:"SENSOR HEAD"})]})]}),d.jsxs("div",{className:"info-card-header-right",children:[d.jsx("div",{className:"info-card-status-dot"}),d.jsx("div",{className:"info-card-status-text",children:"ACTIVE"})]})]}),d.jsx("p",{className:"info-card-description",children:d.jsx(le,{text:"Advanced MCU with remote calibration, self-diagnostics, and real-time data feed. Supports CAN, RS232, and Modbus interfaces.",delay:800,speed:25})}),d.jsxs("div",{className:"info-card-tags",children:[d.jsx("span",{className:"info-card-tag",children:"REMOTE CAL"}),d.jsx("span",{className:"info-card-tag",children:"MULTI-IF"})]})]})]})}),d.jsx("div",{className:"info-card info-card-fuel-probe",children:d.jsxs("div",{className:"info-card-container",children:[d.jsx("div",{className:"info-card-top-bar"}),d.jsxs("div",{className:"info-card-content",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsxs("div",{className:"info-card-header-left",children:[d.jsx("div",{className:"info-card-icon-wrapper",children:d.jsx(m,{className:"info-card-icon",size:24})}),d.jsxs("div",{className:"info-card-header-text",children:[d.jsx("div",{className:"info-card-component-label",children:"COMPONENT 02"}),d.jsx("h3",{className:"info-card-title",children:"FUEL PROBE"})]})]}),d.jsxs("div",{className:"info-card-header-right",children:[d.jsx("div",{className:"info-card-status-dot"}),d.jsx("div",{className:"info-card-status-text",children:"ACTIVE"})]})]}),d.jsx("p",{className:"info-card-description",children:d.jsx(le,{text:"High-precision capacitive probe with <0.5mm resolution. Features inclinometer for tilt compensation and anti-slosh technology for stable readings.",delay:1400,speed:25})}),d.jsxs("div",{className:"info-card-tags",children:[d.jsx("span",{className:"info-card-tag",children:"Â±1% ACCURACY"}),d.jsx("span",{className:"info-card-tag",children:"ANTI-SLOSH"})]})]})]})}),d.jsx("div",{className:"info-card info-card-protection-cage",children:d.jsxs("div",{className:"info-card-container",children:[d.jsx("div",{className:"info-card-top-bar"}),d.jsxs("div",{className:"info-card-content",children:[d.jsxs("div",{className:"info-card-header",children:[d.jsxs("div",{className:"info-card-header-left",children:[d.jsx("div",{className:"info-card-icon-wrapper",children:d.jsx(x,{className:"info-card-icon",size:24})}),d.jsxs("div",{className:"info-card-header-text",children:[d.jsx("div",{className:"info-card-component-label",children:"COMPONENT 03"}),d.jsx("h3",{className:"info-card-title",children:"PROTECTION CAGE"})]})]}),d.jsxs("div",{className:"info-card-header-right",children:[d.jsx("div",{className:"info-card-status-dot"}),d.jsx("div",{className:"info-card-status-text",children:"ACTIVE"})]})]}),d.jsx("p",{className:"info-card-description",children:d.jsx(le,{text:"Corrosion-resistant protective cage with chemical-resistant materials. Shock-resistant design ensures durability in harsh environments.",delay:2e3,speed:25})}),d.jsxs("div",{className:"info-card-tags",children:[d.jsx("span",{className:"info-card-tag",children:"IP67"}),d.jsx("span",{className:"info-card-tag",children:"SHOCK-PROOF"})]})]})]})})]}),d.jsx("section",{className:"section final-section "+(3===v&&C>=96?"visible":"hidden"),children:d.jsxs("div",{className:"final-section-content",children:[d.jsx("div",{className:"final-section-icon-wrapper",children:d.jsx("div",{className:"final-section-icon-box",children:d.jsx(g,{className:"final-section-icon",size:32})})}),d.jsx("h3",{className:"final-section-heading",children:"FLEET READY"}),d.jsx("p",{className:"final-section-description",children:"Seamless integration with your existing fleet management system"}),d.jsxs("div",{className:"final-section-stats",children:[d.jsxs("div",{className:"final-section-stat",children:[d.jsx("div",{className:"final-section-stat-value",children:"24/7"}),d.jsx("div",{className:"final-section-stat-label",children:"Monitoring"})]}),d.jsx("div",{className:"final-section-divider"}),d.jsxs("div",{className:"final-section-stat",children:[d.jsx("div",{className:"final-section-stat-value",children:"Â±1%"}),d.jsx("div",{className:"final-section-stat-label",children:"Accuracy"})]}),d.jsx("div",{className:"final-section-divider"}),d.jsxs("div",{className:"final-section-stat",children:[d.jsx("div",{className:"final-section-stat-value",children:"IP67"}),d.jsx("div",{className:"final-section-stat-label",children:"Rated"})]})]}),d.jsx("button",{className:"final-section-cta group",children:d.jsxs("span",{className:"final-section-cta-content",children:["Request Demo",d.jsx(b,{className:"final-section-cta-icon",size:20})]})}),d.jsx("p",{className:"final-section-footer",children:"Fleet Integration Ready"})]})}),d.jsx("section",{className:"spacer-section"}),d.jsx("section",{className:"spacer-section"})]}),d.jsxs("div",{className:"scroll-indicator "+(3===v?"hidden":"visible"),children:[d.jsx("div",{className:"scroll-indicator-icon-wrapper",children:d.jsx(b,{className:"scroll-indicator-icon",size:20})}),d.jsx("span",{className:"scroll-indicator-text",children:"Scroll to Explore"})]}),$&&Fe.current&&ze.current&&Ie.current&&Oe.current&&d.jsx(r,{scene:Fe.current,truckGroup:ze.current,position:ue.truck.position,rotation:ue.truck.rotation,scale:ue.truck.scale[0],lightGrayMaterial:Ie.current,edgeMaterial:Oe.current,onProgress:e=>{E(e)},onLoad:(e,t)=>c(this,null,function*(){n.current=e,s.current=t,we.current=e,We.current&&(yield We.current.validateTransforms("truck",e)).valid,E(100)}),onLogoCreated:e=>{Ne.current=e;const t=ue.logo;e.position.set(t.position[0],t.position[1],t.position[2]),e.rotation.set(t.rotation[0],t.rotation[1],t.rotation[2]),e.scale.set(t.scale[0],t.scale[1],1);const n=new O(0,0,t.offsetZ);n.applyQuaternion(e.quaternion),e.position.add(n),e.visible=t.visible}}),$&&Fe.current&&ze.current&&d.jsx(oe,{scene:Fe.current,truckGroup:ze.current,position:ue.telematicsDisplay.position,rotation:ue.telematicsDisplay.rotation,size:ue.telematicsDisplay.size,initialData:{speed:85,fuelLevel:.65},onMaterialCreated:e=>{Ve.current=e},onGroupCreated:e=>{Te.current=e}}),$&&Fe.current&&d.jsx(ae,{scene:Fe.current,count:400,color:12632256,onParticlesCreated:e=>{De.current=e}}),$&&Fe.current&&ze.current&&d.jsx(i,{scene:Fe.current,truckGroup:ze.current,position:ue.fuelSensor.position,rotation:ue.fuelSensor.rotation,scale:ue.fuelSensor.scale,probeLength:ue.fuelSensor.probeLength,onComponentsCreated:e=>c(this,null,function*(){Ge.current=e.sensorHeadGroup,Ce.current=e.probeTube,Le.current=e.cageGroup,Be.current=e.tankGroup,e.sensorHeadGroup.parent&&(je.current=e.sensorHeadGroup.parent,We.current)&&(yield We.current.validateTransforms("fuelSensor",je.current)).valid})}),d.jsx(fe,{enabled:q,fps:U,transforms:K,assetMetrics:pe,camera:xe.current||void 0})]})}const Te=document.getElementById("root");if(!Te)throw new Error("Could not find root element to mount to");v.createRoot(Te).render(d.jsx(y.StrictMode,{children:d.jsx(je,{})}))}},function(){return re||(0,ie[t(ie)[0]])((re={exports:{}}).exports,re),re.exports});export default oe();
